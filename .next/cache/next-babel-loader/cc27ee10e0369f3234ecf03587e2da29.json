{"ast":null,"code":"\"use strict\";\n\nvar _libphonenumberJs = require(\"libphonenumber-js\");\n\nconst Validator = require('validator');\n\nconst isEmpty = require('./is-empty');\n\nmodule.exports = function validateForm(data) {\n  let errors = {};\n  data.name = !isEmpty(data.name) ? data.name : '';\n  data.phone = !isEmpty(data.phone) ? data.phone : '';\n\n  if (Validator.isEmpty(data.name)) {\n    errors.name = 'Поле \"Имя\" обязательно для заполнения';\n  }\n\n  if (Validator.isEmpty(data.phone)) {\n    errors.phone = 'Поле \"Телефон\" обязательно для заполнения';\n  }\n\n  if (!Validator.isEmpty(data.phone) && !Validator.isMobilePhone((0, _libphonenumberJs.parsePhoneNumberFromString)(data.phone, 'RU').number, 'ru-RU')) {\n    errors.phone = 'Поле \"Телефон\" заполнено неправильно';\n  }\n\n  return {\n    errors,\n    isValid: isEmpty(errors)\n  };\n};","map":{"version":3,"sources":["G:/OSPanel/domains/gmnext9/components/validation/mailer.js"],"names":["Validator","require","isEmpty","module","exports","validateForm","data","errors","name","phone","isMobilePhone","number","isValid"],"mappings":";;AAEA;;AAFA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,YAAD,CAAvB;;AAGAE,MAAM,CAACC,OAAP,GAAiB,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;AAC3C,MAAIC,MAAM,GAAG,EAAb;AACAD,EAAAA,IAAI,CAACE,IAAL,GAAY,CAACN,OAAO,CAACI,IAAI,CAACE,IAAN,CAAR,GAAsBF,IAAI,CAACE,IAA3B,GAAkC,EAA9C;AACAF,EAAAA,IAAI,CAACG,KAAL,GAAa,CAACP,OAAO,CAACI,IAAI,CAACG,KAAN,CAAR,GAAuBH,IAAI,CAACG,KAA5B,GAAoC,EAAjD;;AAEA,MAAIT,SAAS,CAACE,OAAV,CAAkBI,IAAI,CAACE,IAAvB,CAAJ,EAAkC;AAChCD,IAAAA,MAAM,CAACC,IAAP,GAAc,uCAAd;AACD;;AACD,MAAIR,SAAS,CAACE,OAAV,CAAkBI,IAAI,CAACG,KAAvB,CAAJ,EAAmC;AACjCF,IAAAA,MAAM,CAACE,KAAP,GAAe,2CAAf;AACD;;AAED,MACE,CAACT,SAAS,CAACE,OAAV,CAAkBI,IAAI,CAACG,KAAvB,CAAD,IACA,CAACT,SAAS,CAACU,aAAV,CACC,kDAA2BJ,IAAI,CAACG,KAAhC,EAAuC,IAAvC,EAA6CE,MAD9C,EAEC,OAFD,CAFH,EAME;AACAJ,IAAAA,MAAM,CAACE,KAAP,GAAe,sCAAf;AACD;;AAED,SAAO;AACLF,IAAAA,MADK;AAELK,IAAAA,OAAO,EAAEV,OAAO,CAACK,MAAD;AAFX,GAAP;AAID,CA1BD","sourcesContent":["const Validator = require('validator');\r\nconst isEmpty = require('./is-empty');\r\nimport { parsePhoneNumberFromString } from 'libphonenumber-js';\r\n\r\nmodule.exports = function validateForm(data) {\r\n  let errors = {};\r\n  data.name = !isEmpty(data.name) ? data.name : '';\r\n  data.phone = !isEmpty(data.phone) ? data.phone : '';\r\n\r\n  if (Validator.isEmpty(data.name)) {\r\n    errors.name = 'Поле \"Имя\" обязательно для заполнения';\r\n  }\r\n  if (Validator.isEmpty(data.phone)) {\r\n    errors.phone = 'Поле \"Телефон\" обязательно для заполнения';\r\n  }\r\n\r\n  if (\r\n    !Validator.isEmpty(data.phone) &&\r\n    !Validator.isMobilePhone(\r\n      parsePhoneNumberFromString(data.phone, 'RU').number,\r\n      'ru-RU'\r\n    )\r\n  ) {\r\n    errors.phone = 'Поле \"Телефон\" заполнено неправильно';\r\n  }\r\n\r\n  return {\r\n    errors,\r\n    isValid: isEmpty(errors),\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"script"}